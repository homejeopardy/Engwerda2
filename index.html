<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engwerda Studios</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to complement Tailwind */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* A light gray background */
        }
        header {
            font-family: 'Playfair Display', serif;
        }
        /* A subtle transition for hover effects */
        .item, button {
            transition: all 0.2s ease-in-out;
        }
        /* Custom styles for the notification toast */
        #notification {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-red-800 text-white p-6 text-center shadow-lg">
        <h1 class="text-4xl md:text-5xl font-bold">Engwerda Studios</h1>
    </header>

    <main class="container mx-auto p-4 md:p-8 max-w-4xl">
        <div id="loading" class="text-center py-10">
            <p class="text-lg text-gray-500">Loading Studio...</p>
        </div>
        
        <div id="public-view" class="hidden bg-white p-6 md:p-8 rounded-xl shadow-md">
            <p class="text-lg font-semibold mb-6 text-center">My studio name is Engwerda Studios. I, Austin Engwerda make movies with my friends and family. I started making films at the start of the covid 19 lockdown in 2020. They include a budget, a script, a cast , and editing the movie on CapCut. Please Subscribe and like to my channel Engwerda Studios.</p>
            
            <h2 class="text-2xl font-bold text-red-800 mb-6 text-center">Latest Projects</h2>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <a href="https://youtu.be/kSL0ma11K5A?si=648oA3TVukLqFAXB" target="_blank" class="block group">
                    <div class="rounded-lg overflow-hidden shadow-lg transform group-hover:scale-105 transition-transform duration-300">
                        <img src="https://i.ytimg.com/vi/kSL0ma11K5A/mqdefault.jpg" alt="M.C.R. Thumbnail" class="w-full h-auto object-cover">
                    </div>
                    <p class="text-center font-semibold mt-2 group-hover:underline">MCR: A Short Film</p>
                </a>
                
                <a href="https://youtu.be/MURjoBiJ1BI?si=KFyVkXH93ANzexq8" target="_blank" class="block group">
                    <div class="rounded-lg overflow-hidden shadow-lg transform group-hover:scale-105 transition-transform duration-300">
                        <img src="https://i.ytimg.com/vi/MURjoBiJ1BI/mqdefault.jpg" alt="Top Gun (Clean Version) Thumbnail" class="w-full h-auto object-cover">
                    </div>
                    <p class="text-center font-semibold mt-2 group-hover:underline">Top Gun (Clean Version)</p>
                </a>
                
                <a href="https://youtu.be/pyz3HLDYdRE?si=fH-zCpbSplI99_w0" target="_blank" class="block group">
                    <div class="rounded-lg overflow-hidden shadow-lg transform group-hover:scale-105 transition-transform duration-300">
                        <img src="https://i.ytimg.com/vi/pyz3HLDYdRE/mqdefault.jpg" alt="Foux Da Fa Fa-Flight of the Conchords Thumbnail" class="w-full h-auto object-cover">
                    </div>
                    <p class="text-center font-semibold mt-2 group-hover:underline">Foux Da Fa Fa-Flight of the conchords</p>
                </a>
            </div>
            
            <div class="mt-8 pt-6 border-t border-gray-200 text-center">
                <button id="showLoginBtn" class="text-blue-600 font-bold hover:underline">Log in to Engwerda Studios</button>
            </div>
        </div>

        <div id="login" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white p-8 rounded-xl shadow-md max-w-sm w-full">
                <h2 class="text-2xl font-bold text-red-800 mb-6 text-center">Enter Password</h2>
                <div class="space-y-4">
                    <input type="password" id="password" placeholder="Password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none">
                    <button id="loginButton" class="w-full bg-red-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
                        Enter
                    </button>
                </div>
                <button id="hideLoginBtn" class="mt-4 w-full bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400">Cancel</button>
            </div>
        </div>

        <div id="content-view" class="hidden bg-white p-6 md:p-8 rounded-xl shadow-md">
            <div id="breadcrumb" class="mb-4 text-gray-500"></div>
            
            <div id="admin-controls" class="hidden mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200">
                <h3 class="text-xl font-semibold text-red-800 mb-4">Admin Panel</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="space-y-2">
                        <input type="text" id="folderName" placeholder="New Folder Name" class="w-full px-3 py-2 border rounded-md">
                        <button id="addFolderBtn" class="w-full bg-blue-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-blue-700">Add Folder</button>
                    </div>
                    <div class="space-y-2">
                        <input type="text" id="linkName" placeholder="Link Name" class="w-full px-3 py-2 border rounded-md">
                        <input type="text" id="linkURL" placeholder="Link URL" class="w-full px-3 py-2 border rounded-md">
                        <button id="addLinkBtn" class="w-full bg-green-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-green-700">Add Link</button>
                    </div>
                </div>
            </div>

            <div id="fileArea" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
                </div>
            <p id="empty-folder-msg" class="hidden text-center text-gray-500 py-8">This folder is empty.</p>

            <div class="mt-8 pt-6 border-t border-gray-200 flex items-center justify-between">
                <button id="backButton" class="bg-gray-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-gray-700 disabled:bg-gray-300 disabled:cursor-not-allowed">Back</button>
                <button id="logoutButton" class="bg-red-700 text-white font-bold py-2 px-5 rounded-lg hover:bg-red-800">Logout</button>
            </div>
        </div>
    </main>

    <div id="notification" class="fixed bottom-5 right-5 bg-gray-800 text-white px-6 py-3 rounded-lg shadow-xl translate-x-[120%] opacity-0">
        <p id="notification-text"></p>
    </div>

    <div id="confirm-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full">
            <h3 class="text-lg font-bold mb-4" id="confirm-modal-title">Are you sure?</h3>
            <p id="confirm-modal-text" class="mb-6"></p>
            <div class="flex justify-end space-x-4">
                <button id="confirm-modal-cancel" class="bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400">Cancel</button>
                <button id="confirm-modal-confirm" class="bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700">Delete</button>
            </div>
        </div>
    </div>

    <script>
        // --- GLOBAL STATE & CONFIG ---

        // The key used to track login status
        const AUTH_KEY = 'engwerda-studio-auth';
        // The key to store the file structure in localStorage
        const DATA_KEY = 'engwerda-studio-data';

        // Initial, default file structure if none exists in localStorage
        const defaultFileStructure = {
            name: "Home",
            folders: [
                {
                    name: "Private",
                    folders: [
                        {
                            name: "Bike Bandits",
                            folders: [],
                            links: [
                                {
                                    name: "Script",
                                    url: "https://docs.google.com/document/d/1Q4dh3V8z6DUza9l331LyEPGyIy-qSbzd3ORSbtXCQhs/edit?tab=t.0"
                                },
                                {
                                    name: "Shot List",
                                    url: "https://docs.google.com/document/d/1X_BeJ45gtb0zVUEQFVsgdZscoiP7e_0ly3xWsU7Gmmk/edit?tab=t.0"
                                },
                                {
                                    name: "Schedule",
                                    url: "https://docs.google.com/document/d/1TA4FZHU0iQCPhZDHmvu3mhnSjYGSsywPVJpFWyC_0ZE/edit?tab=t.0"
                                },
                                {
                                    name: "Props",
                                    url: "https://docs.google.com/document/d/1IrQvtBGHxI8PvRzZ3BNE5Tv4mbqO4fhB3_d0RYR7pvo/edit?tab=t.0"
                                },
                                {
                                    name: "Costumes",
                                    url: "https://docs.google.com/document/d/1LTg4zOwkyLEB4dHSE_49WGNFELEY8NRK7xtDJm3eZpw/edit?tab=t.0"
                                },
                                {
                                    name: "Marketing",
                                    url: "https://docs.google.com/document/d/1x3-bH6vlgCi9phXOrsy9hGymUTeDGX20HzU6ofVGT9g/edit?tab=t.0"
                                },
                                {
                                    name: "Cast Resources",
                                    url: "https://docs.google.com/document/d/1M_d6HgmRIae6kCS54wItWdAuyPzwvVPoRG8XONd5R1g/edit?tab=t.0"
                                },
                                {
                                    name: "Form",
                                    url: "https://docs.google.com/forms/d/1zHXmQ8s17qJsDZb-mZ4w784DhJmNi1l0zglP6_UNIPA/edit#response=ACYDBNjiP1iZoccmphWNg2s2JuYKyPT07jhr3BsSCDRjBZ-ohbCgGssF0NN8cLUcXpkRW8A"
                                }
                            ]
                        }
                    ],
                    links: []
                }
            ],
            links: []
        };

        let fileStructure = {};
        let currentPath = []; // An array of indices to navigate the structure
        let isAdmin = false;
        
        // --- DOM ELEMENT REFERENCES ---
        const DOMElements = {
            loading: document.getElementById('loading'),
            publicView: document.getElementById('public-view'),
